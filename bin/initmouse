#!/bin/bash

# handle multiple bugged xinput entries by getting all id's and setting options
# for all
# mouseid="$(xinput list --id-only pointer:'Razer Razer Viper Ultimate Dongle')"
mouseid="Razer Razer Viper Ultimate Dongle"

if [ "$mouseid" = "" ]; then 
    exit 1
fi

ids=$(xinput --list | awk -v search="$mouseid" \
    '$0 ~ search {match($0, /id=[0-9]+/);\
                  if (RSTART) \
                    print substr($0, RSTART+3, RLENGTH-3)\
                 }'\
     )

for i in $ids
do
    xinput --set-prop "$i" 'libinput Accel Profile Enabled' '0'
    xinput --set-prop "$i" 'libinput Scrolling Pixel Distance' 25
    xinput --set-prop "$i" 'libinput Scrolling Pixel Default' 25
    xinput --set-prop "$i" 'libinput Scroll Distance Scale' 2 2
done

echo 'set viper'
